<!doctype html>
 
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    
    <title>${title}</title>
    <meta name="description" content="${description}" />
    
    <script src='http://cdnjs.cloudflare.com/ajax/libs/jade/1.11.0/jade.js'></script>
    <script src='../../phiot.js'></script>
  </head>
  <body>
    <app></app>
  </body>
</html>


<script type='phiot/template'>

<app>
  <content type='jade'>
    h2 TODO LIST
    div
      input(value='hoge')
      button(onclick='{this.add}') add
    ul
      li(each='{this.items}', done='{this.item.done}')
        input(type='checkbox', onchange='{this.parent.done}', checked='{this.done}')
        {this.title}
  </content>
  <style>
    app h2 {
      color: blue;
    }
    [done='true'] {
      text-decoration: line-through;
    }
  </style>
  <script type='es6'>
    this.items = [
      {
        title: 'hoge',
        done: false,
      }
    ];

    this.add = function() {
      var input = this.domElement.querySelector('input');
      this.items.push({
        title: input.value,
        done: false,
      });
    };

    this.done = function(e) {
      this.item.done = !this.item.done;
    };
  </script>
</app>

</script>

<script>
phiot.init();
phiot.mount('app');

</script>